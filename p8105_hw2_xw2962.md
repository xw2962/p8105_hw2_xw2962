p8105_hw2_xw2962
================
Xiaoyu Wu
2023-09-26

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.3     ✔ readr     2.1.4
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.0
    ## ✔ ggplot2   3.4.3     ✔ tibble    3.2.1
    ## ✔ lubridate 1.9.2     ✔ tidyr     1.3.0
    ## ✔ purrr     1.0.2     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
library(haven)
library(readxl)
library(dplyr)
```

## Problem One

#### Step One: Clean Data in `pols-month.csv`

``` r
pols_df = 
  read_csv("./fivethirtyeight_datasets/pols-month.csv") |> 
  janitor::clean_names() |> 
# Read in dataset 
  separate(mon, into = c("year", "month_day"), sep = 4) |>
  separate(month_day, into = c("month","day"), sep = 3) |>
# Use separate() to break up the variable mon into integer variables year, month, and day
  mutate(month = recode(month, "-01" = "jan", "-02" = "feb","-03" = "mar","-04" = "apr","-05" = "may","-06" = "jun","-07" = "jul","-08" = "aug","-09" = "sep","-10" = "oct","-11" = "nov","-12" = "dec")) |> 
# Replace month number with month name 
  mutate(day=recode(day,"-15"="15")) |>
  mutate(
   prez_gop=case_match(
     prez_gop,
     0~"dem",
     1~"gop",
   )) |>
  mutate(
   prez_dem=case_match(
     prez_dem,
     0~"gop",
     1~"dem",
   )) |>
  relocate(year, month,day,prez_gop,prez_dem) |>
  pivot_longer(
   prez_gop:prez_dem,
   names_to = "president_title",
   values_to = "president"
   ) |>
# Create a president variable taking values gop and dem, and remove prez_dem and prez_gop
   select(-day) |>
# Remove the day variable
   select(-president_title)
```

    ## Rows: 822 Columns: 9
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
pols_df
```

    ## # A tibble: 1,644 × 9
    ##    year  month gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##    <chr> <chr>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ##  1 1947  jan        23      51     253      23      45     198 dem      
    ##  2 1947  jan        23      51     253      23      45     198 dem      
    ##  3 1947  feb        23      51     253      23      45     198 dem      
    ##  4 1947  feb        23      51     253      23      45     198 dem      
    ##  5 1947  mar        23      51     253      23      45     198 dem      
    ##  6 1947  mar        23      51     253      23      45     198 dem      
    ##  7 1947  apr        23      51     253      23      45     198 dem      
    ##  8 1947  apr        23      51     253      23      45     198 dem      
    ##  9 1947  may        23      51     253      23      45     198 dem      
    ## 10 1947  may        23      51     253      23      45     198 dem      
    ## # ℹ 1,634 more rows

#### Step Two: Clean Data in `snp.csv`

``` r
snp_df = 
  read_csv("./fivethirtyeight_datasets/snp.csv") |> 
  janitor::clean_names() |> 
# Read in dataset 
  separate(date, into = c("month", "day_year"), sep = 2) |>
  separate(day_year, into = c("day","year"), sep = 2) |>
# Use separate() to break up the variable mon into integer variables year, month, and day
  mutate(month = recode(month, "1/" = "jan", "2/" = "feb","3/" = "mar","4/" = "apr","5/" = "may","6/" = "jun","7/" = "jul","8/" = "aug","9/" = "sep","10" = "oct","11" = "nov","12" = "dec")) |> 
# Replace month number with month name
  select(-day) |> 
# Remove the day variable
  arrange(year, month) |>
# Arrange according to year and month
  relocate(year, month) |>
# Organize so that year and month are the leading columns
  separate(year, into = c("null", "year"), sep = 1) |>
  select(-null)
```

    ## Rows: 787 Columns: 2
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
# Remove prefix "/" in the column "year"
snp_df
```

    ## # A tibble: 787 × 3
    ##    year  month close
    ##    <chr> <chr> <dbl>
    ##  1 00    dec   1320.
    ##  2 00    nov   1315.
    ##  3 00    oct   1429.
    ##  4 01    dec   1148.
    ##  5 01    nov   1139.
    ##  6 01    oct   1060.
    ##  7 02    dec    880.
    ##  8 02    nov    936.
    ##  9 02    oct    886.
    ## 10 03    dec   1112.
    ## # ℹ 777 more rows

#### Step Three: Tidy Data in `unemployment.csv`

``` r
unemployment_df = 
  read_csv("./fivethirtyeight_datasets/unemployment.csv") |> 
  janitor::clean_names() |>
  pivot_longer(
   jan:dec,
   names_to = "month",
   values_to = "unemployment_num"
   ) |>
  mutate(year=as.character("year"))
```

    ## Rows: 68 Columns: 13
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
# mutate year from dbl to character 
unemployment_df
```

    ## # A tibble: 816 × 3
    ##    year  month unemployment_num
    ##    <chr> <chr>            <dbl>
    ##  1 year  jan                3.4
    ##  2 year  feb                3.8
    ##  3 year  mar                4  
    ##  4 year  apr                3.9
    ##  5 year  may                3.5
    ##  6 year  jun                3.6
    ##  7 year  jul                3.6
    ##  8 year  aug                3.9
    ##  9 year  sep                3.8
    ## 10 year  oct                3.7
    ## # ℹ 806 more rows

#### Join Datasets

``` r
pols_snp = 
  left_join(pols_df,snp_df,by = "year","month")
pols_snp
```

    ## # A tibble: 1,644 × 11
    ##    year  month.x gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##    <chr> <chr>     <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ##  1 1947  jan          23      51     253      23      45     198 dem      
    ##  2 1947  jan          23      51     253      23      45     198 dem      
    ##  3 1947  feb          23      51     253      23      45     198 dem      
    ##  4 1947  feb          23      51     253      23      45     198 dem      
    ##  5 1947  mar          23      51     253      23      45     198 dem      
    ##  6 1947  mar          23      51     253      23      45     198 dem      
    ##  7 1947  apr          23      51     253      23      45     198 dem      
    ##  8 1947  apr          23      51     253      23      45     198 dem      
    ##  9 1947  may          23      51     253      23      45     198 dem      
    ## 10 1947  may          23      51     253      23      45     198 dem      
    ## # ℹ 1,634 more rows
    ## # ℹ 2 more variables: month.y <chr>, close <dbl>

``` r
# Join the datasets by merging snp into pols
pols_snp_unemployment=
  left_join(pols_snp,unemployment_df,by = "year","month")
pols_snp_unemployment
```

    ## # A tibble: 1,644 × 13
    ##    year  month.x gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##    <chr> <chr>     <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ##  1 1947  jan          23      51     253      23      45     198 dem      
    ##  2 1947  jan          23      51     253      23      45     198 dem      
    ##  3 1947  feb          23      51     253      23      45     198 dem      
    ##  4 1947  feb          23      51     253      23      45     198 dem      
    ##  5 1947  mar          23      51     253      23      45     198 dem      
    ##  6 1947  mar          23      51     253      23      45     198 dem      
    ##  7 1947  apr          23      51     253      23      45     198 dem      
    ##  8 1947  apr          23      51     253      23      45     198 dem      
    ##  9 1947  may          23      51     253      23      45     198 dem      
    ## 10 1947  may          23      51     253      23      45     198 dem      
    ## # ℹ 1,634 more rows
    ## # ℹ 4 more variables: month.y <chr>, close <dbl>, month <chr>,
    ## #   unemployment_num <dbl>

#### Short Description of Dataset

Dataset “pols_df” has 9 variables: year, month, gov_gop, sen_gop,
rep_gop, gov_dem, sen_dem, rep_dem, president. In this dataset, there
are 1644 rows. And there are 9 columns. Here we consider variables
“gov_gop”, “sen_gop”, “rep_gop”, “gov_dem”, “sen_dem”, “rep_dem” and
“president” to be important for analysis.

Dataset “snp_df” has 3 variables: year, month, close. In this dataset,
there are 787 rows. And there are 3 columns. Here we consider variables
“close” to be important for analysis.

Dataset “unemployment_df” has 3 variables: year, month,
unemployment_num. In this dataset, there are 816 rows. And there are 3
columns. Here we consider variables “unemployment_num” to be important
for analysis.

The joining dataset “pols_snp_unemployment” has 13 variables: year,
month.x, gov_gop, sen_gop, rep_gop, gov_dem, sen_dem, rep_dem,
president, month.y, close, month, unemployment_num. In this dataset,
there are 1644 rows. And there are 13 columns. Here we consider
variables “gov_gop”, “sen_gop”, “rep_gop”, “gov_dem”, “sen_dem”,
“rep_dem”, “president”,“close” and “unemployment_num” to be important
for analysis.

## Problem Two

#### Import, Clean, and Organize the Data for Mr. Trash Wheel

``` r
mr_trash_wheel_df=
  read_excel("./Trash Wheel Data.xlsx",range="A2:N549") |> 
# Specify the sheet in the Excel file and to omit non-data entries using arguments in read_excel
  janitor::clean_names() |>  
# Use reasonable variable names
  drop_na() |> 
# Omit rows that do not include dumpster-specific data
  mutate(
    homes_powered = ((weight_tons*500)/30
    )) |>
# Update the data to include a new homes_powered variable based on the noted calculation
  mutate(trash_wheel_name="mr_trash_wheel") |>
  relocate(trash_wheel_name)
# Add a variable for Clear Identification 
mr_trash_wheel_df
```

    ## # A tibble: 486 × 15
    ##    trash_wheel_name dumpster month year  date                weight_tons
    ##    <chr>               <dbl> <chr> <chr> <dttm>                    <dbl>
    ##  1 mr_trash_wheel          1 May   2014  2014-05-16 00:00:00        4.31
    ##  2 mr_trash_wheel          2 May   2014  2014-05-16 00:00:00        2.74
    ##  3 mr_trash_wheel          3 May   2014  2014-05-16 00:00:00        3.45
    ##  4 mr_trash_wheel          4 May   2014  2014-05-17 00:00:00        3.1 
    ##  5 mr_trash_wheel          5 May   2014  2014-05-17 00:00:00        4.06
    ##  6 mr_trash_wheel          6 May   2014  2014-05-20 00:00:00        2.71
    ##  7 mr_trash_wheel          7 May   2014  2014-05-21 00:00:00        1.91
    ##  8 mr_trash_wheel          8 May   2014  2014-05-28 00:00:00        3.7 
    ##  9 mr_trash_wheel          9 June  2014  2014-06-05 00:00:00        2.52
    ## 10 mr_trash_wheel         10 June  2014  2014-06-11 00:00:00        3.76
    ## # ℹ 476 more rows
    ## # ℹ 9 more variables: volume_cubic_yards <dbl>, plastic_bottles <dbl>,
    ## #   polystyrene <dbl>, cigarette_butts <dbl>, glass_bottles <dbl>,
    ## #   grocery_bags <dbl>, chip_bags <dbl>, sports_balls <dbl>,
    ## #   homes_powered <dbl>

#### Import, Clean, and Organize the Data for Professor Trash Wheel

``` r
professor_trash_wheel_df=
  read_excel("./Trash Wheel Data.xlsx",2,range="A2:M96") |> 
# Specify the sheet in the Excel file and to omit non-data entries using arguments in read_excel
  janitor::clean_names() |>  
# Use reasonable variable names
  drop_na() |> 
# Omit rows that do not include dumpster-specific data
  mutate(
    homes_powered = ((weight_tons*500)/30
    )) |> 
# Update the data to include a new homes_powered variable based on the noted calculation
  mutate(trash_wheel_name="professor_trash_wheel") |>
  relocate(trash_wheel_name) |> 
# Add a variable for Clear Identification
  mutate(year=as.character("year"))
professor_trash_wheel_df
```

    ## # A tibble: 82 × 14
    ##    trash_wheel_name      dumpster month    year  date                weight_tons
    ##    <chr>                    <dbl> <chr>    <chr> <dttm>                    <dbl>
    ##  1 professor_trash_wheel        1 January  year  2017-01-02 00:00:00        1.79
    ##  2 professor_trash_wheel        2 January  year  2017-01-30 00:00:00        1.58
    ##  3 professor_trash_wheel        3 February year  2017-02-26 00:00:00        2.32
    ##  4 professor_trash_wheel        4 February year  2017-02-26 00:00:00        3.72
    ##  5 professor_trash_wheel        5 February year  2017-02-28 00:00:00        1.45
    ##  6 professor_trash_wheel        6 March    year  2017-03-30 00:00:00        1.71
    ##  7 professor_trash_wheel        7 April    year  2017-04-01 00:00:00        1.82
    ##  8 professor_trash_wheel        8 April    year  2017-04-20 00:00:00        2.37
    ##  9 professor_trash_wheel        9 May      year  2017-05-10 00:00:00        2.64
    ## 10 professor_trash_wheel       10 May      year  2017-05-26 00:00:00        2.78
    ## # ℹ 72 more rows
    ## # ℹ 8 more variables: volume_cubic_yards <dbl>, plastic_bottles <dbl>,
    ## #   polystyrene <dbl>, cigarette_butts <dbl>, glass_bottles <dbl>,
    ## #   grocery_bags <dbl>, chip_bags <dbl>, homes_powered <dbl>

#### Import, Clean, and Organize the Data for Gwynnda Trash Wheel

``` r
Gwynnda_trash_wheel_df=
  read_excel("./Trash Wheel Data.xlsx",4,range="A2:K108") |> 
# Specify the sheet in the Excel file and to omit non-data entries using arguments in read_excel
  janitor::clean_names() |>  
# Use reasonable variable names
  drop_na() |> 
# Omit rows that do not include dumpster-specific data
  mutate(
    homes_powered = ((weight_tons*500)/30
    )) |> 
# Update the data to include a new homes_powered variable based on the noted calculation
  mutate(trash_wheel_name="Gwynnda_trash_wheel") |>
  relocate(trash_wheel_name)
# Add a variable for Clear Identification
Gwynnda_trash_wheel_df
```

    ## # A tibble: 17 × 12
    ##    trash_wheel_name    dumpster month   year date                weight_tons
    ##    <chr>                  <dbl> <chr>  <dbl> <dttm>                    <dbl>
    ##  1 Gwynnda_trash_wheel        1 July    2021 2021-07-03 00:00:00        0.93
    ##  2 Gwynnda_trash_wheel        2 July    2021 2021-07-07 00:00:00        2.26
    ##  3 Gwynnda_trash_wheel        3 July    2021 2021-07-07 00:00:00        1.62
    ##  4 Gwynnda_trash_wheel        4 July    2021 2021-07-16 00:00:00        1.76
    ##  5 Gwynnda_trash_wheel        5 July    2021 2021-07-30 00:00:00        1.53
    ##  6 Gwynnda_trash_wheel        6 August  2021 2021-08-11 00:00:00        2.06
    ##  7 Gwynnda_trash_wheel        7 August  2021 2021-08-14 00:00:00        1.9 
    ##  8 Gwynnda_trash_wheel        8 August  2021 2021-08-16 00:00:00        2.16
    ##  9 Gwynnda_trash_wheel        9 August  2021 2021-08-16 00:00:00        2.6 
    ## 10 Gwynnda_trash_wheel       10 August  2021 2021-08-17 00:00:00        3.21
    ## 11 Gwynnda_trash_wheel       11 August  2021 2021-08-17 00:00:00        2.44
    ## 12 Gwynnda_trash_wheel       12 August  2021 2021-08-18 00:00:00        2.62
    ## 13 Gwynnda_trash_wheel       13 August  2021 2021-08-19 00:00:00        2.92
    ## 14 Gwynnda_trash_wheel       14 August  2021 2021-08-19 00:00:00        2.93
    ## 15 Gwynnda_trash_wheel       15 August  2021 2021-08-20 00:00:00        3.31
    ## 16 Gwynnda_trash_wheel       16 August  2021 2021-08-24 00:00:00        2.7 
    ## 17 Gwynnda_trash_wheel       17 August  2021 2021-08-25 00:00:00        2.1 
    ## # ℹ 6 more variables: volume_cubic_yards <dbl>, plastic_bottles <dbl>,
    ## #   polystyrene <dbl>, cigarette_butts <dbl>, plastic_bags <dbl>,
    ## #   homes_powered <dbl>

``` r
Gwynnda_trash_wheel_df_july=filter(Gwynnda_trash_wheel_df,month=="July" )
Gwynnda_trash_wheel_df_july
```

    ## # A tibble: 5 × 12
    ##   trash_wheel_name    dumpster month  year date                weight_tons
    ##   <chr>                  <dbl> <chr> <dbl> <dttm>                    <dbl>
    ## 1 Gwynnda_trash_wheel        1 July   2021 2021-07-03 00:00:00        0.93
    ## 2 Gwynnda_trash_wheel        2 July   2021 2021-07-07 00:00:00        2.26
    ## 3 Gwynnda_trash_wheel        3 July   2021 2021-07-07 00:00:00        1.62
    ## 4 Gwynnda_trash_wheel        4 July   2021 2021-07-16 00:00:00        1.76
    ## 5 Gwynnda_trash_wheel        5 July   2021 2021-07-30 00:00:00        1.53
    ## # ℹ 6 more variables: volume_cubic_yards <dbl>, plastic_bottles <dbl>,
    ## #   polystyrene <dbl>, cigarette_butts <dbl>, plastic_bags <dbl>,
    ## #   homes_powered <dbl>

#### Combine these with the Mr. Trash Wheel Dataset to Create Single Tidy Dataset

``` r
mr_professor_Gwynnda=
  left_join(mr_trash_wheel_df,professor_trash_wheel_df,Gwynnda_trash_wheel_df,by=c("trash_wheel_name","month","dumpster","year","date","weight_tons","volume_cubic_yards","plastic_bottles","polystyrene","cigarette_butts","glass_bottles","grocery_bags","chip_bags","homes_powered"))
mr_professor_Gwynnda
```

    ## # A tibble: 486 × 15
    ##    trash_wheel_name dumpster month year  date                weight_tons
    ##    <chr>               <dbl> <chr> <chr> <dttm>                    <dbl>
    ##  1 mr_trash_wheel          1 May   2014  2014-05-16 00:00:00        4.31
    ##  2 mr_trash_wheel          2 May   2014  2014-05-16 00:00:00        2.74
    ##  3 mr_trash_wheel          3 May   2014  2014-05-16 00:00:00        3.45
    ##  4 mr_trash_wheel          4 May   2014  2014-05-17 00:00:00        3.1 
    ##  5 mr_trash_wheel          5 May   2014  2014-05-17 00:00:00        4.06
    ##  6 mr_trash_wheel          6 May   2014  2014-05-20 00:00:00        2.71
    ##  7 mr_trash_wheel          7 May   2014  2014-05-21 00:00:00        1.91
    ##  8 mr_trash_wheel          8 May   2014  2014-05-28 00:00:00        3.7 
    ##  9 mr_trash_wheel          9 June  2014  2014-06-05 00:00:00        2.52
    ## 10 mr_trash_wheel         10 June  2014  2014-06-11 00:00:00        3.76
    ## # ℹ 476 more rows
    ## # ℹ 9 more variables: volume_cubic_yards <dbl>, plastic_bottles <dbl>,
    ## #   polystyrene <dbl>, cigarette_butts <dbl>, glass_bottles <dbl>,
    ## #   grocery_bags <dbl>, chip_bags <dbl>, sports_balls <dbl>,
    ## #   homes_powered <dbl>

#### Description

Dataset “mr_professor_Gwynnda” has 15 variables: trash_wheel_name,
dumpster, month, year, date, weight_tons, volume_cubic_yards,
plastic_bottles, polystyrene, cigarette_butts, glass_bottles,
grocery_bags, chip_bags, sports_balls, homes_powered. In this dataset,
there are 486 rows or observations. And there are 15 columns or
variables.

Here, we consider “weight_tons”,“volume_cubic_yards” and “homes_powered”
to be key variables. The variable “weight_tons” has mean 3.2077778 and
standard deviation 0.7420151. The variable “volume_cubic_yards” has mean
15.3847737 and standard deviation 1.4366681. The variable
“homes_powered” has mean 53.462963 and standard deviation 12.3669181.

The total weight of trash collected by Professor Trash Wheel is 162.54.

The total number of cigarette butts collected by Gwynnda in July of 2021
is 1.63^{4}.

## Problem Three

#### Import, Clean and Tidy Dataset `MCI_baseline.csv`

``` r
mci_baseline_df = 
  read_csv("./data_mci/MCI_baseline.csv") |> 
  janitor::clean_names() |>
# Read in dataset 
  mutate(x1_male_0_female = recode(x1_male_0_female, "1" = "male", "0" = "female")) |>
  mutate(x1_apoe4_carrier_0_apoe4_non_carrier = recode(x1_apoe4_carrier_0_apoe4_non_carrier, "1" = "carrier", "0" = "non_carrier")) |>
# Recode sex and APOE4 carrier status
  mutate(age_at_the_onset_of_mci_missing_if_a_subject_remains_mci_free_during_the_follow_up_period=as.numeric(age_at_the_onset_of_mci_missing_if_a_subject_remains_mci_free_during_the_follow_up_period)) |>
  filter(age_at_the_onset_of_mci_missing_if_a_subject_remains_mci_free_during_the_follow_up_period!=".") |> 
# Remove any participants who do not meet the stated inclusion criteria
  rename("study_id" = "x1")
```

    ## New names:
    ## Rows: 484 Columns: 6
    ## ── Column specification
    ## ──────────────────────────────────────────────────────── Delimiter: "," chr
    ## (6): ...1, Age at the study baseline, 1 = Male, 0 = Female, Years of edu...
    ## ℹ Use `spec()` to retrieve the full column specification for this data. ℹ
    ## Specify the column types or set `show_col_types = FALSE` to quiet this message.
    ## • `` -> `...1`

    ## Warning: There was 1 warning in `mutate()`.
    ## ℹ In argument:
    ##   `age_at_the_onset_of_mci_missing_if_a_subject_remains_mci_free_during_the_follow_up_period
    ##   =
    ##   as.numeric(age_at_the_onset_of_mci_missing_if_a_subject_remains_mci_free_during_the_follow_up_period)`.
    ## Caused by warning:
    ## ! NAs introduced by coercion

``` r
mci_baseline_df_female=filter(mci_baseline_df,x1_male_0_female=="female" )
# Filter out participants who are females 
mci_baseline_df_female_carriers=filter(mci_baseline_df_female,x1_apoe4_carrier_0_apoe4_non_carrier=="carrier")
# Filter out participants who are females and who have apoe4 carriers 
mci_baseline_df_female
```

    ## # A tibble: 46 × 6
    ##    study_id age_at_the_study_baseline x1_male_0_female years_of_education
    ##    <chr>    <chr>                     <chr>            <chr>             
    ##  1 14       58.4                      female           20                
    ##  2 22       67.3                      female           20                
    ##  3 26       64.8                      female           20                
    ##  4 30       66.3                      female           12                
    ##  5 39       68.3                      female           16                
    ##  6 43       67.1                      female           16                
    ##  7 55       69.3                      female           16                
    ##  8 59       66.7                      female           20                
    ##  9 65       62.8                      female           16                
    ## 10 69       65.5                      female           20                
    ## # ℹ 36 more rows
    ## # ℹ 2 more variables: x1_apoe4_carrier_0_apoe4_non_carrier <chr>,
    ## #   age_at_the_onset_of_mci_missing_if_a_subject_remains_mci_free_during_the_follow_up_period <dbl>

``` r
mci_baseline_df_female_carriers
```

    ## # A tibble: 30 × 6
    ##    study_id age_at_the_study_baseline x1_male_0_female years_of_education
    ##    <chr>    <chr>                     <chr>            <chr>             
    ##  1 22       67.3                      female           20                
    ##  2 26       64.8                      female           20                
    ##  3 39       68.3                      female           16                
    ##  4 43       67.1                      female           16                
    ##  5 55       69.3                      female           16                
    ##  6 59       66.7                      female           20                
    ##  7 69       65.5                      female           20                
    ##  8 75       61.2                      female           16                
    ##  9 77       63.7                      female           18                
    ## 10 86       66                        female           18                
    ## # ℹ 20 more rows
    ## # ℹ 2 more variables: x1_apoe4_carrier_0_apoe4_non_carrier <chr>,
    ## #   age_at_the_onset_of_mci_missing_if_a_subject_remains_mci_free_during_the_follow_up_period <dbl>

``` r
mci_baseline_df
```

    ## # A tibble: 97 × 6
    ##    study_id age_at_the_study_baseline x1_male_0_female years_of_education
    ##    <chr>    <chr>                     <chr>            <chr>             
    ##  1 3        62.5                      male             16                
    ##  2 5        66                        male             16                
    ##  3 7        66.5                      male             18                
    ##  4 13       63.1                      male             12                
    ##  5 14       58.4                      female           20                
    ##  6 18       67.8                      male             16                
    ##  7 22       67.3                      female           20                
    ##  8 26       64.8                      female           20                
    ##  9 30       66.3                      female           12                
    ## 10 39       68.3                      female           16                
    ## # ℹ 87 more rows
    ## # ℹ 2 more variables: x1_apoe4_carrier_0_apoe4_non_carrier <chr>,
    ## #   age_at_the_onset_of_mci_missing_if_a_subject_remains_mci_free_during_the_follow_up_period <dbl>

#### Discussion

Dataset “mci_baseline_df” has 6 variables: study_id,
age_at_the_study_baseline, x1_male_0_female, years_of_education,
x1_apoe4_carrier_0_apoe4_non_carrier,
age_at_the_onset_of_mci_missing_if_a_subject_remains_mci_free_during_the_follow_up_period.
In this dataset, there are 484 participants. And there are 6 columns or
variables. Of these, 97 devlops MCI. The average baseline age is
70.2628866. 0.6521739 of women in the study are APOE4 carriers.

#### Import, Clean and Tidy Dataset `mci_amyloid.csv`

``` r
mci_amyloid_df = 
  read_csv("./data_mci/mci_amyloid.csv") |> 
  janitor::clean_names() |>
# Read in dataset 
  drop_na() 
```

    ## New names:
    ## Rows: 488 Columns: 6
    ## ── Column specification
    ## ──────────────────────────────────────────────────────── Delimiter: "," chr
    ## (6): Study ID, Time (in years) elapsed since the study baseline to the v...
    ## ℹ Use `spec()` to retrieve the full column specification for this data. ℹ
    ## Specify the column types or set `show_col_types = FALSE` to quiet this message.
    ## • `NA` -> `NA...3`
    ## • `NA` -> `NA...4`
    ## • `NA` -> `NA...5`
    ## • `NA` -> `NA...6`

``` r
# Remove any participants who do not meet the stated inclusion criteria
mci_amyloid_df 
```

    ## # A tibble: 348 × 6
    ##    study_id time_in_years_elapsed_since_the_study_base…¹ na_3  na_4  na_5  na_6 
    ##    <chr>    <chr>                                        <chr> <chr> <chr> <chr>
    ##  1 Study ID Baseline                                     Time… Time… Time… Time…
    ##  2 2        0.107481183                                  0.10… 0.10… 0.10… 0.10…
    ##  3 4        0.109251358                                  0.10… 0.11… 0.10… 0.11…
    ##  4 5        0.107950408                                  0.11… 0.11… 0.10… 0.10…
    ##  5 6        0.112426974                                  0.11… 0.11… 0.11… 0.11…
    ##  6 11       0.109119335                                  0.10… 0.11… 0.10… 0.10…
    ##  7 12       0.112042298                                  0.11… 0.10… 0.10… 0.10…
    ##  8 13       0.110300505                                  0.10… 0.10… 0.10… 0.10…
    ##  9 16       0.110218888                                  0.11… 0.11… 0.10… 0.10…
    ## 10 17       0.108399246                                  0.11… 0.10… 0.10… 0.11…
    ## # ℹ 338 more rows
    ## # ℹ abbreviated name:
    ## #   ¹​time_in_years_elapsed_since_the_study_baseline_to_the_visit_where_biomarker_amyloid_42_40_ratio_was_measured

#### Discussion

Dataset “mci_amyloid_df” has 6 variables: study_id,
time_in_years_elapsed_since_the_study_baseline_to_the_visit_where_biomarker_amyloid_42_40_ratio_was_measured,
na_3, na_4, na_5, na_6. In this dataset, there are 348 rows or
participants. And there are 6 columns or variables.

## Join dataset

``` r
baseline_amyloid= merge(mci_baseline_df,mci_amyloid_df, 
             by="study_id")
baseline_amyloid
```

    ##    study_id age_at_the_study_baseline x1_male_0_female years_of_education
    ## 1       109                      66.2           female                 16
    ## 2       120                      64.5           female                 20
    ## 3       123                      64.4             male                 18
    ## 4        13                      63.1             male                 12
    ## 5       132                      63.2             male                 16
    ## 6       146                      62.7           female                 16
    ## 7       149                      61.1           female                 16
    ## 8       170                      65.6             male                 16
    ## 9       177                      67.4           female                 16
    ## 10       18                      67.8             male                 16
    ## 11      202                      70.1           female                 18
    ## 12      218                      61.2             male                 16
    ## 13      226                      70.4             male                 16
    ## 14      229                      65.6           female                 18
    ## 15      234                      66.7             male                 18
    ## 16      242                      68.1             male                 12
    ## 17      249                      64.5           female                 16
    ## 18      250                      68.1             male                 16
    ## 19      252                      66.2             male                 16
    ## 20       26                      64.8           female                 20
    ## 21      283                        69             male                 16
    ## 22      287                        63             male                 16
    ## 23      292                      66.1           female                 18
    ## 24      297                      67.3             male                 16
    ## 25       30                      66.3           female                 12
    ## 26      305                        70           female                 18
    ## 27      306                      69.5           female                 16
    ## 28      314                        63           female                 16
    ## 29      323                      67.4           female                 16
    ## 30      328                      65.5             male                 16
    ## 31      336                      67.2           female                 16
    ## 32      337                      67.8           female                 16
    ## 33      338                        65           female                 16
    ## 34      347                      67.7             male                 16
    ## 35      348                      64.4             male                 16
    ## 36      350                      70.7           female                 16
    ## 37      351                      69.4             male                 16
    ## 38      365                      64.5           female                 16
    ## 39      366                      66.8             male                 16
    ## 40      369                      63.3             male                 18
    ## 41      373                      62.5             male                 16
    ## 42      377                      65.4           female                 16
    ## 43      380                      70.3           female                 16
    ## 44      408                      64.1             male                 20
    ## 45      409                      69.3             male                 16
    ## 46      416                      66.6           female                 16
    ## 47      417                      68.1           female                 16
    ## 48      419                      60.7           female                 16
    ## 49      423                      64.8           female                 16
    ## 50      426                      69.8             male                 16
    ## 51      431                      58.9             male                 16
    ## 52      442                      70.3             male                 18
    ## 53       45                      62.9             male                 20
    ## 54      453                      62.7             male                 18
    ## 55      471                      62.6             male                 16
    ## 56        5                        66             male                 16
    ## 57       55                      69.3           female                 16
    ## 58       59                      66.7           female                 20
    ## 59       65                      62.8           female                 16
    ## 60       69                      65.5           female                 20
    ## 61       75                      61.2           female                 16
    ## 62       76                      65.9             male                 12
    ## 63       77                      63.7           female                 18
    ## 64       78                        65             male                 16
    ## 65       86                        66           female                 18
    ## 66       87                      68.2             male                 18
    ##    x1_apoe4_carrier_0_apoe4_non_carrier
    ## 1                               carrier
    ## 2                               carrier
    ## 3                               carrier
    ## 4                               carrier
    ## 5                               carrier
    ## 6                           non_carrier
    ## 7                               carrier
    ## 8                           non_carrier
    ## 9                               carrier
    ## 10                          non_carrier
    ## 11                              carrier
    ## 12                          non_carrier
    ## 13                          non_carrier
    ## 14                          non_carrier
    ## 15                          non_carrier
    ## 16                          non_carrier
    ## 17                              carrier
    ## 18                              carrier
    ## 19                              carrier
    ## 20                              carrier
    ## 21                          non_carrier
    ## 22                              carrier
    ## 23                          non_carrier
    ## 24                              carrier
    ## 25                          non_carrier
    ## 26                              carrier
    ## 27                          non_carrier
    ## 28                          non_carrier
    ## 29                              carrier
    ## 30                          non_carrier
    ## 31                              carrier
    ## 32                          non_carrier
    ## 33                          non_carrier
    ## 34                              carrier
    ## 35                              carrier
    ## 36                              carrier
    ## 37                              carrier
    ## 38                          non_carrier
    ## 39                              carrier
    ## 40                              carrier
    ## 41                          non_carrier
    ## 42                              carrier
    ## 43                          non_carrier
    ## 44                              carrier
    ## 45                              carrier
    ## 46                          non_carrier
    ## 47                              carrier
    ## 48                              carrier
    ## 49                              carrier
    ## 50                          non_carrier
    ## 51                              carrier
    ## 52                          non_carrier
    ## 53                              carrier
    ## 54                          non_carrier
    ## 55                              carrier
    ## 56                          non_carrier
    ## 57                              carrier
    ## 58                              carrier
    ## 59                          non_carrier
    ## 60                              carrier
    ## 61                              carrier
    ## 62                          non_carrier
    ## 63                              carrier
    ## 64                          non_carrier
    ## 65                              carrier
    ## 66                          non_carrier
    ##    age_at_the_onset_of_mci_missing_if_a_subject_remains_mci_free_during_the_follow_up_period
    ## 1                                                                                       68.4
    ## 2                                                                                       72.2
    ## 3                                                                                       67.4
    ## 4                                                                                       69.0
    ## 5                                                                                       66.0
    ## 6                                                                                       66.7
    ## 7                                                                                       68.9
    ## 8                                                                                       70.7
    ## 9                                                                                       74.4
    ## 10                                                                                      69.8
    ## 11                                                                                      75.2
    ## 12                                                                                      65.9
    ## 13                                                                                      75.4
    ## 14                                                                                      70.9
    ## 15                                                                                      66.7
    ## 16                                                                                      75.6
    ## 17                                                                                      68.4
    ## 18                                                                                      74.5
    ## 19                                                                                      69.6
    ## 20                                                                                      71.1
    ## 21                                                                                      68.3
    ## 22                                                                                      68.0
    ## 23                                                                                      70.2
    ## 24                                                                                      73.9
    ## 25                                                                                      73.1
    ## 26                                                                                      77.2
    ## 27                                                                                      72.6
    ## 28                                                                                      68.7
    ## 29                                                                                      73.9
    ## 30                                                                                      71.0
    ## 31                                                                                      73.7
    ## 32                                                                                      75.0
    ## 33                                                                                      70.8
    ## 34                                                                                      68.9
    ## 35                                                                                      70.4
    ## 36                                                                                      75.2
    ## 37                                                                                      76.6
    ## 38                                                                                      67.7
    ## 39                                                                                      72.8
    ## 40                                                                                      68.6
    ## 41                                                                                      66.0
    ## 42                                                                                      68.2
    ## 43                                                                                      70.2
    ## 44                                                                                      70.2
    ## 45                                                                                      75.2
    ## 46                                                                                      68.9
    ## 47                                                                                      72.5
    ## 48                                                                                      63.8
    ## 49                                                                                      70.3
    ## 50                                                                                      76.8
    ## 51                                                                                      61.2
    ## 52                                                                                      71.3
    ## 53                                                                                      65.2
    ## 54                                                                                      68.6
    ## 55                                                                                      68.9
    ## 56                                                                                      68.7
    ## 57                                                                                      73.6
    ## 58                                                                                      74.4
    ## 59                                                                                      66.5
    ## 60                                                                                      72.5
    ## 61                                                                                      65.4
    ## 62                                                                                      68.0
    ## 63                                                                                      66.4
    ## 64                                                                                      68.0
    ## 65                                                                                      71.7
    ## 66                                                                                      76.0
    ##    time_in_years_elapsed_since_the_study_baseline_to_the_visit_where_biomarker_amyloid_42_40_ratio_was_measured
    ## 1                                                                                                   0.107026721
    ## 2                                                                                                   0.106856079
    ## 3                                                                                                   0.108080327
    ## 4                                                                                                   0.110300505
    ## 5                                                                                                    0.10908984
    ## 6                                                                                                   0.111194981
    ## 7                                                                                                   0.108500622
    ## 8                                                                                                    0.11478716
    ## 9                                                                                                   0.107080076
    ## 10                                                                                                  0.114137255
    ## 11                                                                                                  0.108924204
    ## 12                                                                                                   0.11380286
    ## 13                                                                                                  0.113086843
    ## 14                                                                                                  0.110090355
    ## 15                                                                                                  0.110521689
    ## 16                                                                                                  0.110615293
    ## 17                                                                                                  0.107875226
    ## 18                                                                                                  0.107287702
    ## 19                                                                                                  0.106002663
    ## 20                                                                                                  0.104749004
    ## 21                                                                                                  0.113436336
    ## 22                                                                                                  0.108545195
    ## 23                                                                                                  0.112005473
    ## 24                                                                                                  0.112519791
    ## 25                                                                                                  0.109311868
    ## 26                                                                                                  0.106575146
    ## 27                                                                                                  0.107617927
    ## 28                                                                                                  0.114488695
    ## 29                                                                                                  0.108951493
    ## 30                                                                                                  0.116053343
    ## 31                                                                                                  0.105515499
    ## 32                                                                                                  0.110234919
    ## 33                                                                                                  0.113154484
    ## 34                                                                                                  0.106142357
    ## 35                                                                                                  0.108953572
    ## 36                                                                                                  0.104448098
    ## 37                                                                                                  0.109113066
    ## 38                                                                                                  0.108368155
    ## 39                                                                                                  0.109407468
    ## 40                                                                                                  0.111860082
    ## 41                                                                                                   0.11218911
    ## 42                                                                                                  0.108737385
    ## 43                                                                                                  0.111158847
    ## 44                                                                                                  0.110779441
    ## 45                                                                                                  0.109306118
    ## 46                                                                                                  0.111767429
    ## 47                                                                                                  0.109277104
    ## 48                                                                                                  0.114644146
    ## 49                                                                                                  0.108118705
    ## 50                                                                                                  0.110310062
    ## 51                                                                                                  0.117180111
    ## 52                                                                                                  0.107946154
    ## 53                                                                                                  0.106887426
    ## 54                                                                                                  0.113857033
    ## 55                                                                                                  0.111027383
    ## 56                                                                                                  0.107950408
    ## 57                                                                                                  0.101507799
    ## 58                                                                                                  0.103415696
    ## 59                                                                                                   0.11256305
    ## 60                                                                                                  0.114392996
    ## 61                                                                                                  0.108368094
    ## 62                                                                                                  0.110931307
    ## 63                                                                                                  0.107284617
    ## 64                                                                                                  0.113982537
    ## 65                                                                                                  0.108360583
    ## 66                                                                                                  0.113658986
    ##           na_3        na_4        na_5        na_6
    ## 1  0.107718021 0.104457501 0.100723304 0.100848092
    ## 2  0.111398319 0.103014244 0.106365255 0.103045743
    ## 3  0.112383506  0.11008691 0.107630692 0.101780509
    ## 4  0.108534417 0.108100808 0.109229662 0.104861901
    ## 5  0.108979186 0.106198191 0.105698988 0.102579378
    ## 6  0.111374948 0.113454429 0.109239435 0.108603552
    ## 7  0.110531747 0.110113935 0.106510401 0.106897608
    ## 8  0.111734748 0.111511576 0.113622709  0.11056932
    ## 9  0.103880457 0.104338764 0.106399715 0.102465143
    ## 10 0.107093264 0.110872562 0.108982605 0.106873903
    ## 11 0.103006361 0.103228003 0.102029846 0.100056292
    ## 12 0.115676631 0.112240869 0.110319531 0.110548777
    ## 13 0.110028856 0.110193695 0.107221396 0.105330637
    ## 14 0.114248533 0.111349647 0.107372297 0.108299128
    ## 15 0.110988335 0.110318671 0.107334344 0.108868811
    ## 16 0.112466023 0.110543716 0.108457735 0.106649029
    ## 17 0.106120934 0.110522028  0.10443051 0.104297366
    ## 18 0.109043837 0.109596383 0.105458715  0.10294026
    ## 19 0.109438988 0.104734598 0.108832219 0.105513741
    ## 20 0.110171403 0.106128029 0.102036973 0.104994305
    ## 21 0.106568976  0.11338643  0.10820706 0.114399611
    ## 22 0.109804562 0.112595781 0.109277394 0.107288238
    ## 23 0.111128689 0.110529628 0.107524069 0.111213884
    ## 24 0.107296829 0.109572724 0.107416099 0.105536131
    ## 25 0.111327152 0.107454368 0.113914306 0.108895642
    ## 26 0.109139729 0.107237307 0.100797063 0.103960862
    ## 27  0.10549774 0.105779618 0.104030737 0.103597858
    ## 28 0.111534036 0.113995497 0.116064016 0.111072404
    ## 29 0.108156014 0.107161066 0.107789675 0.103367206
    ## 30 0.108732458 0.107981127 0.110412399 0.107545571
    ## 31 0.105559957 0.102679883  0.10569702  0.10640764
    ## 32 0.109115569 0.110457079 0.111424351 0.109695757
    ## 33 0.113866071 0.107875179 0.109168346 0.110056896
    ## 34 0.105404684 0.106038639 0.104798607 0.102539751
    ## 35 0.109108861  0.10913821 0.111055899 0.111664612
    ## 36 0.106251499 0.109105546 0.105341362 0.102666049
    ## 37 0.110681827 0.104622912 0.107114993  0.10775628
    ## 38  0.11282099 0.109700177 0.103664695 0.104995131
    ## 39 0.110142355 0.108078589 0.104223474 0.103784985
    ## 40 0.104362159 0.112709888 0.107915913 0.107131432
    ## 41 0.117060394 0.113077811 0.116411516 0.106141346
    ## 42 0.107877634 0.107528215 0.105783551 0.104676513
    ## 43 0.104560429 0.106822683 0.104961175 0.109506164
    ## 44  0.11081594 0.111759647  0.10560759  0.11096394
    ## 45 0.109355444 0.104203305 0.104801719 0.104392625
    ## 46 0.109024281 0.113209208 0.105000017 0.106021985
    ## 47  0.10508806 0.105360371 0.105517925  0.10132809
    ## 48 0.108243592 0.112268963 0.106069914  0.10415295
    ## 49 0.107796862 0.107986282 0.103578995  0.11011534
    ## 50 0.106626194 0.105759193 0.108039787 0.105913739
    ## 51 0.110687702 0.107133996  0.10872562 0.106799552
    ## 52 0.114161562   0.1105537 0.106454629 0.103088929
    ## 53 0.110818579 0.111516749 0.107179289  0.10457923
    ## 54 0.112321772 0.108314519 0.109028408 0.106029713
    ## 55 0.106424715 0.111068422 0.107208238 0.110534005
    ## 56 0.112273883 0.115139677 0.106606054 0.106052066
    ## 57 0.105455229 0.104251537 0.106088762 0.103609078
    ## 58  0.10351346 0.100971886 0.108515848 0.104119779
    ## 59  0.11366025 0.112475164 0.111539121 0.111844573
    ## 60 0.104970251 0.109161136 0.107839858 0.107005326
    ## 61  0.10773377 0.105117512 0.106359342 0.105999842
    ## 62 0.109048068 0.106670279  0.10805051 0.111364424
    ## 63 0.106476261 0.112886515 0.101454474  0.10454377
    ## 64 0.110739736 0.113457585 0.111259357 0.108290955
    ## 65 0.102932875 0.106523976 0.104131568 0.101939043
    ## 66 0.110688998 0.112175174 0.107445684 0.103597297

#### Discussion

Only 66 participants appear in both the baseline and amyloid datasets.
And there are 11 variables, they are study_id,
age_at_the_study_baseline, x1_male_0_female, years_of_education,
x1_apoe4_carrier_0_apoe4_non_carrier,
age_at_the_onset_of_mci_missing_if_a_subject_remains_mci_free_during_the_follow_up_period,
time_in_years_elapsed_since_the_study_baseline_to_the_visit_where_biomarker_amyloid_42_40_ratio_was_measured,
na_3, na_4, na_5, na_6.

#### Export Result as CSV

``` r
write_csv(baseline_amyloid,"baseline_amyloid.csv")
```
